<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8">
		<title>User Login Animation</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.4.3/lottie.min.js"></script>
		<link rel="stylesheet" href="/css/main.css">
	</head>
	<body>
		<div class="container">
			<div class="animation" style="transform: scale(.8)"></div>
			<div class="animation1" style="transform: scale(.8)"></div>
			<input id="username" type="text" name="username" value="" placeholder="username">
			<input id="password" type="password" name="password" value="" placeholder="password">
		</div>

		<script type="text/javascript">
			var params = {
				container: document.querySelector(".animation"),
				renderer: 'svg',
				loop: false,
				autoplay: false,
				path: 'data.json'
			}

			var params1 = {
				container: document.querySelector(".animation1"),
				renderer: 'svg',
				loop: true,
				speed: 0.5,
				autoplay: false,
				path: 'data1.json'
			}

			var animation = bodymovin.loadAnimation(params);
			var animation1 = bodymovin.loadAnimation(params1);
			document.querySelector(".animation1").style.display = "none";

			var userNameInput = document.querySelector("#username");
			userNameInput.addEventListener("focus",function(){
				document.querySelector(".animation1").style.display = "none";
				document.querySelector(".animation").style.display = "block";
				animation.goToAndStop(1, true);
			},true);

			userNameInput.addEventListener("blur",function(){
				animation.goToAndStop(0, true);
			},true);

			userNameInput.addEventListener("keydown", function(e){

				if(e.keyCode > 47 && e.keyCode < 91){
					//animation.playSegments([17,93], true);
					animation.play();
					animation.setDirection(1);
				}
				else if(e.keyCode == 9){
					animation.goToAndStop(0, true);
				}
				else if(e.keyCode == 8) {
					animation.play();
					animation.setDirection(-1);
				}
			},false);

			userNameInput.addEventListener("keyup", function(){
				animation.pause();
			})

			// var animation1 = bodymovin.loadAnimation({
			// 	container: document.querySelector(".animation"),
			// 	renderer: 'svg',
			// 	loop: false,
			// 	autoplay: true,
			// 	path: 'data1.json'
			// });

			var passwordInput = document.querySelector("#password");
			passwordInput.addEventListener("focus", function(){
				document.querySelector('.animation').style.display = "none";
				document.querySelector('.animation1').style.display = "block";

				animation1.play();
			});
			passwordInput.addEventListener("blur", function(){
				document.querySelector('.animation').style.display = "block";
				document.querySelector('.animation1').style.display = "none";

				animation1.stop();
			});
		</script>
	</body>
</html>
